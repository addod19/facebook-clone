
<div class="container">
    <div class="row">
        <div class="shadow-lg p-3 mt-5 mb-5 bg-white rounded col-md-8 offset-md-2">
            <h2 class="text-center"><i class="fa fa-comment"></i> Create Post</h2>
            <%= form_for(@post) do |f| %>
                <div class="field">
                    <%= f.label 'Post' %><br />
                    <%= f.text_area :post_text, class: "form-control", placeholder: "What's on your mind, #{current_user.first_name}" %>
                </div>
                <div class="actions">
                    <%= f.submit "Create Post", class: "form-control btn btn-success mt-1" %>
                </div>
            <% end %>
        </div>
    </div>
    <div class="row justify-content-between">
        <% @user_posts.each do |user_post| %>
            <div class="p-3 mb-3 bg-secondary rounded col-md-8 offset-md-2 text-white">
                <small>Author: <%=  user_post.user.first_name %> <%=  user_post.user.last_name %></small><br>
                <%= user_post.post_text %>
                <% if current_user.id == user_post.user.id %>
                    <%= button_to 'delete', user_post, method: :delete, data: { confirm: 'Are you sure?' }, class:'btn btn-danger btn-sm' %> 
                <% end %>
            </div>
                <% if !user_post.comments.empty? %>
                    <%= user_post.comments.each do |comment| %>
                    <div class="container">
                        <div class="p-3 mb-3 bg-primary rounded col-md-8 offset-md-2 text-white">
                            <%= comment.comment_text %>
                        </div>
                    </div>
                    <% end %>
                <% end %>
        <% end %>
    </div>
</div>